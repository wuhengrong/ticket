<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¥¨å¡ç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: #f5f7fa;
            color: #333;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .card-title {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .url-display {
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            font-size: 12px;
            color: #666;
            background: #f8f9fa;
            padding: 6px 10px;
            border-radius: 4px;
            border: 1px solid #e9ecef;
        }
        
        .action-buttons {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        
        .generate-btn {
            background: #3498db;
            color: white;
        }
        
        .edit-btn {
            background: #f39c12;
            color: white;
        }
        
        .delete-btn {
            background: #e74c3c;
            color: white;
        }
        
        .copy-btn {
            background: #9b59b6;
            color: white;
        }
        
        .status-available {
            color: #2ecc71;
            font-weight: 600;
        }
        
        .status-used {
            color: #e74c3c;
            font-weight: 600;
        }
        
        .status-disabled {
            color: #95a5a6;
            font-weight: 600;
        }
        
        .status-assigned {
            color: #3498db;
            font-weight: 600;
        }
        
        .alert {
            padding: 12px 16px;
            border-radius: 6px;
            margin-bottom: 20px;
            display: none;
        }
        
        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #7f8c8d;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        /* å¯†ç éªŒè¯æ¨¡æ€æ¡†æ ·å¼ */
        .password-modal {
            display: flex;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .password-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            padding: 30px;
        }
        
        .password-title {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .password-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            margin-bottom: 15px;
        }
        
        .password-input:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .password-error {
            color: #e74c3c;
            font-size: 14px;
            margin-bottom: 15px;
            text-align: center;
            display: none;
        }
        
        .password-buttons {
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>
    <!-- å¯†ç éªŒè¯æ¨¡æ€æ¡† -->
    <div class="password-modal" id="passwordModal">
        <div class="password-content">
            <h3 class="password-title">ğŸ” è¯·è¾“å…¥ç®¡ç†å¯†ç </h3>
            <input type="password" id="passwordInput" class="password-input" placeholder="è¯·è¾“å…¥è®¿é—®å¯†ç " autocomplete="off">
            <div class="password-error" id="passwordError">å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥</div>
            <div class="password-buttons">
                <button class="btn btn-danger" onclick="cancelAccess()" style="flex: 1;">å–æ¶ˆ</button>
                <button class="btn btn-success" onclick="verifyPassword()" style="flex: 1;">ç¡®è®¤</button>
            </div>
        </div>
    </div>

    <!-- ä¸»å†…å®¹åŒºåŸŸ - åˆå§‹éšè— -->
    <div id="mainContent" style="display: none;">
        <div class="container">
            <header>
                <h1>ğŸš‡ åœ°é“ç¥¨å¡ç®¡ç†ç³»ç»Ÿ</h1>
                <p>ç®¡ç†ç¥¨å¡URLå’Œç”Ÿæˆç”¨æˆ·è®¿é—®é“¾æ¥</p>
            </header>
            
            <div class="alert" id="alertMessage"></div>
            
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ç¥¨å¡åˆ—è¡¨</h2>
                    <button class="btn" onclick="addTicketCard()">
                        <i class="fas fa-plus"></i> æ·»åŠ ç¥¨å¡
                    </button>
                </div>
                
                <table id="ticketCardsTable">
                    <thead>
                        <tr>
                            <th>åºå·</th>
                            <th>å¡ç¥¨URL</th>
                            <th>æ¬¡æ•°</th>
                            <th>çŠ¶æ€</th>
                            <th>ç”¨æˆ·URL</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="ticketCardsBody">
                        <!-- æ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- ç¼–è¾‘ç¥¨å¡æ¨¡æ€æ¡† -->
        <div class="modal" id="ticketModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modalTitle">ç¼–è¾‘ç¥¨å¡</h3>
                    <button class="close" onclick="closeModal('ticketModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="ticketForm">
                        <input type="hidden" id="ticketId">
                        <div class="form-group">
                            <label for="serialNumber">åºå· *</label>
                            <input type="number" id="serialNumber" required>
                        </div>
                        <div class="form-group">
                            <label for="cardUrl">å¡ç¥¨URL *</label>
                            <input type="url" id="cardUrl" required placeholder="https://example.com/ticket">
                            <small style="color: #666;">è¯·è¾“å…¥å•ä¸ªURLåœ°å€</small>
                        </div>
                        <div class="form-group">
                            <label for="usageCount">ä½¿ç”¨æ¬¡æ•°</label>
                            <input type="number" id="usageCount" value="0">
                        </div>
                        <div class="form-group">
                            <label for="status">çŠ¶æ€</label>
                            <select id="status">
                                <option value="å¯ç”¨">å¯ç”¨</option>
                                <option value="å·²ä½¿ç”¨">å·²ä½¿ç”¨</option>
                                <option value="ç¦ç”¨">ç¦ç”¨</option>
                                <option value="å·²åˆ†é…">å·²åˆ†é…</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-danger" onclick="closeModal('ticketModal')">å–æ¶ˆ</button>
                    <button class="btn btn-success" onclick="saveTicketCard()">ä¿å­˜</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€æ•°æ®å­˜å‚¨
        let ticketCards = [];
        const API_BASE = '/api/ticket-cards';
        
        // å¯†ç éªŒè¯ç›¸å…³å‡½æ•°
        async function verifyPassword() {
            const password = document.getElementById('passwordInput').value;
            const errorElement = document.getElementById('passwordError');
            
            if (!password) {
                errorElement.textContent = 'è¯·è¾“å…¥å¯†ç ';
                errorElement.style.display = 'block';
                return;
            }
            
            try {
                // ä¿®æ­£URLè·¯å¾„
                const response = await fetch('/api/ticket-cards/auth/verify-management-password', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ password: password })
                });
                
                if (response.ok) {
                    // å¯†ç æ­£ç¡®ï¼Œæ˜¾ç¤ºä¸»å†…å®¹
                    document.getElementById('passwordModal').style.display = 'none';
                    document.getElementById('mainContent').style.display = 'block';
                    // åŠ è½½ç¥¨å¡æ•°æ®
                    loadTicketCards();
                } else {
                    const result = await response.json();
                    errorElement.textContent = result.error || 'å¯†ç é”™è¯¯';
                    errorElement.style.display = 'block';
                    // æ¸…ç©ºå¯†ç è¾“å…¥æ¡†
                    document.getElementById('passwordInput').value = '';
                    document.getElementById('passwordInput').focus();
                }
            } catch (error) {
                errorElement.textContent = 'éªŒè¯å¤±è´¥ï¼Œè¯·é‡è¯•';
                errorElement.style.display = 'block';
            }
        }
        
        function cancelAccess() {
            // å…³é—­é¡µé¢æˆ–è·³è½¬åˆ°é¦–é¡µ
            window.location.href = '/';
        }
        
        // ç›‘å¬å›è½¦é”®
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                verifyPassword();
            }
        });
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨èšç„¦åˆ°å¯†ç è¾“å…¥æ¡†
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('passwordInput').focus();
        });

        // åŸæœ‰çš„JavaScriptå‡½æ•°ä¿æŒä¸å˜
        // åŠ è½½ç¥¨å¡æ•°æ®
        async function loadTicketCards() {
            try {
                showAlert('æ­£åœ¨åŠ è½½æ•°æ®...', 'info');
                const response = await fetch(API_BASE);
                
                if (response.ok) {
                    const data = await response.json();
                    ticketCards = data;
                    renderTicketCards();
                    showAlert(`åŠ è½½æˆåŠŸï¼Œå…± ${data.length} æ¡è®°å½•`, 'success');
                } else {
                    throw new Error('åŠ è½½æ•°æ®å¤±è´¥');
                }
            } catch (error) {
                console.error('åŠ è½½ç¥¨å¡æ•°æ®å¤±è´¥:', error);
                showAlert('åŠ è½½æ•°æ®å¤±è´¥: ' + error.message, 'error');
            }
        }
        
        // æ¸²æŸ“ç¥¨å¡è¡¨æ ¼
        function renderTicketCards() {
            const tbody = document.getElementById('ticketCardsBody');
            tbody.innerHTML = '';
            
            if (ticketCards.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; color: #999; padding: 40px;">
                            <i class="fas fa-inbox" style="font-size: 48px; margin-bottom: 10px; display: block;"></i>
                            <p>æš‚æ— æ•°æ®ï¼Œè¯·ç‚¹å‡»"æ·»åŠ ç¥¨å¡"æŒ‰é’®æ·»åŠ æ•°æ®</p>
                        </td>
                    </tr>
                `;
                return;
            }
            
            ticketCards.forEach(card => {
                const tr = document.createElement('tr');
                
                // æ ¼å¼åŒ–å¡ç¥¨URLæ˜¾ç¤º
                const cardUrlDisplay = card.cardUrl ? 
                    `<div style="display: flex; align-items: center; gap: 8px;">
                        <div class="url-display" title="${card.cardUrl}">${card.cardUrl}</div>
                        <button class="action-btn copy-btn" onclick="copyToClipboard('${card.cardUrl}')" title="å¤åˆ¶URL">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>` : 
                    '-';
                
                // æ ¼å¼åŒ–ç”¨æˆ·URLæ˜¾ç¤º
                const userUrlDisplay = card.userUrl ? 
                    `<div style="display: flex; align-items: center; gap: 8px;">
                        <div class="url-display" title="${card.userUrl}">${card.userUrl}</div>
                        <button class="action-btn copy-btn" onclick="copyToClipboard('${card.userUrl}')" title="å¤åˆ¶URL">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>` : 
                    '-';
                
                tr.innerHTML = `
                    <td>${card.serialNumber}</td>
                    <td>${cardUrlDisplay}</td>
                    <td>${card.usageCount}</td>
                    <td><span class="status-${getStatusClass(card.status)}">${card.status}</span></td>
                    <td>${userUrlDisplay}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn generate-btn" onclick="generateUserUrl(${card.serialNumber})" ${card.userUrl ? 'disabled' : ''}>
                                <i class="fas fa-link"></i> ${card.userUrl ? 'å·²ç”Ÿæˆ' : 'ç”Ÿæˆé“¾æ¥'}
                            </button>
                            <button class="action-btn edit-btn" onclick="editTicketCard(${card.id})">
                                <i class="fas fa-edit"></i> ç¼–è¾‘
                            </button>
                            <button class="action-btn delete-btn" onclick="deleteTicketCard(${card.id})">
                                <i class="fas fa-trash"></i> åˆ é™¤
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }
        
        // è·å–çŠ¶æ€å¯¹åº”çš„CSSç±»
        function getStatusClass(status) {
            switch(status) {
                case 'å¯ç”¨': return 'available';
                case 'å·²ä½¿ç”¨': return 'used';
                case 'ç¦ç”¨': return 'disabled';
                case 'å·²åˆ†é…': return 'assigned';
                default: return 'available';
            }
        }
        
        // æ·»åŠ ç¥¨å¡ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
        async function addTicketCard() {
            try {
                showAlert('æ­£åœ¨æ·»åŠ ç¥¨å¡...', 'info');
                
                // è‡ªåŠ¨ç”Ÿæˆåºå·ï¼ˆå½“å‰æœ€å¤§åºå·+1ï¼‰
                const maxSerial = ticketCards.length > 0 ? Math.max(...ticketCards.map(card => card.serialNumber)) : 0;
                const newSerial = maxSerial + 1;
                
                // è‡ªåŠ¨ç”Ÿæˆé»˜è®¤URL
                const defaultUrl = `http://19.nat0.cn:29027/mobile/shenzhen/pages/count-card.html?code=AUTO${newSerial}`;
                
                const formData = {
                    serialNumber: newSerial,
                    cardUrl: defaultUrl,
                    usageCount: 0,
                    status: 'å¯ç”¨'
                };
                
                const response = await fetch(API_BASE, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                if (response.ok) {
                    showAlert('ç¥¨å¡æ·»åŠ æˆåŠŸï¼', 'success');
                    await loadTicketCards();
                } else {
                    const error = await response.json();
                    throw new Error(error.error || 'æ·»åŠ å¤±è´¥');
                }
            } catch (error) {
                console.error('æ·»åŠ ç¥¨å¡å¤±è´¥:', error);
                showAlert('æ·»åŠ å¤±è´¥: ' + error.message, 'error');
            }
        }
        
        // ç”Ÿæˆç”¨æˆ·URL
        async function generateUserUrl(serialNumber) {
            try {
                showAlert('æ­£åœ¨ç”Ÿæˆç”¨æˆ·é“¾æ¥...', 'info');
                
                const response = await fetch(`${API_BASE}/${serialNumber}/generate-url`, {
                    method: 'POST'
                });
                
                if (response.ok) {
                    showAlert('ç”¨æˆ·é“¾æ¥ç”ŸæˆæˆåŠŸï¼', 'success');
                    await loadTicketCards();
                } else {
                    const error = await response.json();
                    throw new Error(error.error || 'ç”Ÿæˆé“¾æ¥å¤±è´¥');
                }
            } catch (error) {
                console.error('ç”Ÿæˆç”¨æˆ·URLå¤±è´¥:', error);
                showAlert('ç”Ÿæˆé“¾æ¥å¤±è´¥: ' + error.message, 'error');
            }
        }
        
        // ç¼–è¾‘ç¥¨å¡
        function editTicketCard(id) {
            const card = ticketCards.find(c => c.id === id);
            if (!card) return;
            
            document.getElementById('modalTitle').textContent = 'ç¼–è¾‘ç¥¨å¡';
            document.getElementById('ticketId').value = card.id;
            document.getElementById('serialNumber').value = card.serialNumber;
            document.getElementById('cardUrl').value = card.cardUrl || '';
            document.getElementById('usageCount').value = card.usageCount || 0;
            document.getElementById('status').value = card.status || 'å¯ç”¨';
            
            document.getElementById('ticketModal').classList.add('active');
        }
        
        // åˆ é™¤ç¥¨å¡
        async function deleteTicketCard(id) {
            if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç¥¨å¡å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚')) {
                return;
            }
            
            try {
                showAlert('æ­£åœ¨åˆ é™¤ç¥¨å¡...', 'info');
                
                const response = await fetch(`${API_BASE}/${id}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    showAlert('ç¥¨å¡åˆ é™¤æˆåŠŸï¼', 'success');
                    await loadTicketCards();
                } else {
                    const error = await response.json();
                    throw new Error(error.error || 'åˆ é™¤å¤±è´¥');
                }
            } catch (error) {
                console.error('åˆ é™¤ç¥¨å¡å¤±è´¥:', error);
                showAlert('åˆ é™¤å¤±è´¥: ' + error.message, 'error');
            }
        }
        
        // å¤åˆ¶åˆ°å‰ªè´´æ¿
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showAlert('URLå·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                showAlert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶', 'error');
            });
        }
        
        // å…³é—­æ¨¡æ€æ¡†
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        
        // ä¿å­˜ç¥¨å¡
        async function saveTicketCard() {
            const ticketId = document.getElementById('ticketId').value;
            const formData = {
                serialNumber: parseInt(document.getElementById('serialNumber').value),
                cardUrl: document.getElementById('cardUrl').value,
                usageCount: parseInt(document.getElementById('usageCount').value) || 0,
                status: document.getElementById('status').value
            };
            
            // åŸºç¡€éªŒè¯
            if (!formData.serialNumber || !formData.cardUrl) {
                showAlert('è¯·å¡«å†™å®Œæ•´çš„å¿…å¡«å­—æ®µ', 'error');
                return;
            }
            
            try {
                showAlert('æ­£åœ¨ä¿å­˜...', 'info');
                
                const url = ticketId ? `${API_BASE}/${ticketId}` : API_BASE;
                const method = ticketId ? 'PUT' : 'POST';
                
                const response = await fetch(url, {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                if (response.ok) {
                    showAlert(ticketId ? 'ç¥¨å¡æ›´æ–°æˆåŠŸï¼' : 'ç¥¨å¡æ·»åŠ æˆåŠŸï¼', 'success');
                    closeModal('ticketModal');
                    await loadTicketCards();
                } else {
                    const error = await response.json();
                    throw new Error(error.error || (ticketId ? 'æ›´æ–°å¤±è´¥' : 'æ·»åŠ å¤±è´¥'));
                }
            } catch (error) {
                console.error('ä¿å­˜ç¥¨å¡å¤±è´¥:', error);
                showAlert('ä¿å­˜å¤±è´¥: ' + error.message, 'error');
            }
        }
        
        // æ˜¾ç¤ºæç¤ºä¿¡æ¯
        function showAlert(message, type = 'success') {
            const alertEl = document.getElementById('alertMessage');
            alertEl.textContent = message;
            alertEl.className = `alert alert-${type}`;
            alertEl.style.display = 'block';
            
            // å¦‚æœæ˜¯æˆåŠŸæˆ–ä¿¡æ¯æç¤ºï¼Œ3ç§’åè‡ªåŠ¨éšè—ï¼›é”™è¯¯æç¤ºä¿æŒæ˜¾ç¤º
            if (type === 'success' || type === 'info') {
                setTimeout(() => {
                    alertEl.style.display = 'none';
                }, 3000);
            }
        }
    </script>
</body>
</html>